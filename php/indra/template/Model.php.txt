<?php

namespace {{ namespace }};

use indra\service\Context;

/**
 * This class was auto-generated. Do not change it, for it will be overwritten.
 */
class {{ className }}
{
    /**
     * @return {{ typeName }}
     */
    public function create()
    {
        $type = $this->getType();
        $object = new {{ typeName }}($type);
        $object->setId(Context::getIdGenerator()->generateId());
        return $object;
    }

    public function save({{ typeName }} $object)
    {
        Context::getTripleStore()->save($object);
    }

    public function load($indraId)
    {
        $object = new {{ typeName }}($this->getType());
        Context::getTripleStore()->load($object, $indraId);
        return $object;
    }

    public function remove({{ typeName }} $object)
    {
        Context::getTripleStore()->remove($object);
    }

    private $type;

    private function getType()
    {
        return $this->type ?: $this->type = new {{ typeClassName }};
    }
}
